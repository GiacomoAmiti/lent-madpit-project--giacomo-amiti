scene.onOverlapTile(SpriteKind.Player, sprites.builtin.coral3, function (sprite, location) {
    statusbar.value += -1
})
controller.B.onEvent(ControllerButtonEvent.Pressed, function () {
    sword = sprites.createProjectileFromSprite(img`
        ........................
        ........................
        ........................
        ........................
        ........................
        ........................
        ........................
        .............ccc........
        ............cddc........
        ...........cddc.........
        .........ccddc..........
        .........cddc...........
        .......ddccc............
        .......dd...............
        ........................
        ........................
        ........................
        ........................
        ........................
        ........................
        ........................
        ........................
        ........................
        ........................
        `, DOOD_KILLER_PERSON, 200, 0)
})
controller.A.onEvent(ControllerButtonEvent.Pressed, function () {
    if (DOOD_KILLER_PERSON.vy == 0) {
        DOOD_KILLER_PERSON.vy = -170
    }
})
statusbars.onZero(StatusBarKind.Health, function (status) {
    game.over(false, effects.splatter)
})
scene.onOverlapTile(SpriteKind.Player, sprites.builtin.forestTiles8, function (sprite, location) {
    game.over(true, effects.confetti)
})
let sword: Sprite = null
let DOOD_KILLER_PERSON: Sprite = null
let statusbar: StatusBarSprite = null
scene.setBackgroundImage(img`
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    `)
tiles.setTilemap(tilemap`level1`)
statusbar = statusbars.create(20, 4, StatusBarKind.Health)
statusbar.setLabel("Health")
statusbar.attachToSprite(DOOD_KILLER_PERSON)
statusbar.setOffsetPadding(0, 10)
statusbar.value = 100
DOOD_KILLER_PERSON = sprites.create(img`
    . . . . . . . . . . . . . . . . 
    . . . . . f f f f f f . . . . . 
    . . . f f e e e e f 2 f . . . . 
    . . f f e e e e f 2 2 2 f . . . 
    . . f e e e f f e e e e f . . . 
    . . f f f f e e 2 2 2 2 e f . . 
    . . f e 2 2 2 f f f f e 2 f . . 
    . f f f f f f f e e e f f f . . 
    . f f e 4 4 e b f 4 4 e e f . . 
    . f e e 4 d 4 1 f d d e f f . . 
    . . f e e e 4 d d d d f d d f . 
    . . . . f e e 4 e e e f b b f . 
    . . . . f 2 2 2 4 d d e b b f . 
    . . . f f 4 4 4 e d d e b f . . 
    . . . f f f f f f e e f f . . . 
    . . . . f f . . . f f f . . . . 
    `, SpriteKind.Player)
controller.moveSprite(DOOD_KILLER_PERSON, 100, 0)
DOOD_KILLER_PERSON.ay = 350
scene.cameraFollowSprite(DOOD_KILLER_PERSON)
game.onUpdate(function () {
    DOOD_KILLER_PERSON.setImage(img`
        . . . . . . . . . . . . . . . . 
        . . . . . f f f f f f . . . . . 
        . . . f f e e e e f 2 f . . . . 
        . . f f e e e e f 2 2 2 f . . . 
        . . f e e e f f e e e e f . . . 
        . . f f f f e e 2 2 2 2 e f . . 
        . . f e 2 2 2 f f f f e 2 f . . 
        . f f f f f f f e e e f f f . . 
        . f f e 4 4 e b f 4 4 e e f . . 
        . f e e 4 d 4 1 f d d e f f . . 
        . . f e e e 4 d d d d f d d f . 
        . . . . f e e 4 e e e f b b f . 
        . . . . f 2 2 2 4 d d e b b f . 
        . . . f f 4 4 4 e d d e b f . . 
        . . . f f f f f f e e f f . . . 
        . . . . f f . . . f f f . . . . 
        `)
    if (DOOD_KILLER_PERSON.vx < 0) {
        DOOD_KILLER_PERSON.image.flipX()
    }
    if (DOOD_KILLER_PERSON.vy < 0) {
        DOOD_KILLER_PERSON.setImage(img`
            . . . . . . . . . . . . . . . . 
            . . . . f f f f f f . . . . . . 
            . . f f e e e e f 2 f . . . . . 
            . f f e e e e f 2 2 2 f . . . . 
            . f e e e f f e e e e f . . . . 
            . f f f f e e 2 2 2 2 e f . c c 
            . f e 2 2 2 f f f f e 2 f c d c 
            f f f f f f f e e e f f c d d c 
            f f e 4 4 e b f 4 4 e c d d c . 
            f e e 4 d 4 1 f d d e c d c . . 
            . f e e e 4 d d d e d c c c . . 
            . . f f e e 4 4 e 4 d d e . . . 
            . . . f 2 2 . 2 4 4 e e . . . . 
            . . . f 2 2 2 2 e 2 f . . . . . 
            . . . f 4 4 4 4 5 5 f . . . . . 
            . . . . f f f f f f . . . . . . 
            `)
    } else if (DOOD_KILLER_PERSON.vy > 0) {
        DOOD_KILLER_PERSON.setImage(img`
            . . . . f f f f f f . . . . . . 
            . . f f e e e e f 2 f . . . . . 
            . f f e e e e f 2 2 2 f . . . . 
            . f e e e f f e e e e f . . . . 
            . f f f f e e 2 2 2 2 e f . . . 
            . f e 2 2 2 f f f f e 2 f . . . 
            f f f f f f f e e e f f f . . . 
            f f e 4 4 e b f 4 4 e e f . . . 
            f e e 4 d 4 1 f d d e f . . . . 
            . f e e e 4 d d d d f . . . . . 
            . . f d d e 4 4 4 e f . . . . . 
            . . f d d e 2 2 c c c . . . . . 
            . . . e e f 2 2 c d c . . . . . 
            . . . f 4 4 4 4 c d d c . . . . 
            . . . . f f f f f c d d c . . . 
            . . . . . f f f . . c c c . . . 
            `)
    } else if (DOOD_KILLER_PERSON.x % 2 == 0) {
        DOOD_KILLER_PERSON.setImage(img`
            . . . . . f f f f f f . . . . . 
            . . . f f e e e e f 2 f . . . . 
            . . f f e e e e f 2 2 2 f . . . 
            . . f e e e f f e e e e f . . . 
            . . f f f f e e 2 2 2 2 e f . . 
            . . f e 2 2 2 f f f f e 2 f . . 
            . f f f f f f f e e e f f f . . 
            . f f e 4 4 e b f 4 4 e e f . . 
            . f e e 4 d 4 1 f d d e f f . . 
            . . f e e e 4 d d d d f d d f . 
            . . . f f e e 4 e e e f b b f . 
            . . . . f 2 2 2 4 d d e b b f . 
            . . . . e 2 2 2 e d d e b f . . 
            . . . . f 4 4 4 f e e f f . . . 
            . . . . . f f f f f f . . . . . 
            . . . . . . f f f . . . . . . . 
            `)
    } else {
    	
    }
})
